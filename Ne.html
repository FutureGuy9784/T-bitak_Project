<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Kod Okuma ve Sesli Okuma</title>
</head>
<body>
    <!-- QR kodu tarayacak alan -->
    <input type="file" accept="image/*" capture="camera" id="qrInput" style="display:none">

    <script>
        // QR kodu tarayacak fonksiyon
        function readQRCode(input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const imageUrl = e.target.result;
                    // Burada QR kodu okuma işlemini gerçekleştirecek bir kütüphane kullanılabilir.
                    // Örneğin: https://github.com/cozmo/jsQR
                    // Ancak, bu örnekte QR kod okuma kısmını basitleştirmek için kullanılmadı.
                    // İlerleyen aşamada bu kısmı ihtiyacınıza uygun bir şekilde güncelleyebilirsiniz.

                    // Şu an QR kodu okunduğunu varsayalım ve belirli bir siteye yönlendirelim.
                    window.location.href = "https://qr1.be/OUYD";
                };
                reader.readAsDataURL(file);
            }
        }

        // Site içeriğini sesli olarak okuyacak fonksiyon
        function speakText() {
            const content = document.body.textContent;
            const speech = new SpeechSynthesisUtterance();

            speech.text = content;
            speech.lang = 'tr-TR'; // Türkçe (Türkiye)

            // İsteğe bağlı olarak hızı ayarlayabilirsiniz
            // speech.rate = 1.0; // Normal hız

            // Sesli okuma işlemini başlat
            window.speechSynthesis.speak(speech);
        }

        // QR kodu tarandığında çalışacak olan fonksiyon
        function onQRCodeScanned() {
            // QR kodu tarandığında, sesli okuma fonksiyonunu çağır
            speakText();
        }

        // QR kodu tarayıcı alanına tıklanınca dosya seçimini başlat
        document.getElementById('qrInput').addEventListener('click', function () {
            this.value = null; // Aynı dosyayı tekrar seçmek için gerekiyorsa
        });

        // Dosya seçimi yapıldığında QR kodu tarayacak fonksiyonu çağır
        document.getElementById('qrInput').addEventListener('change', function () {
            readQRCode(this);
        });

        // QR kodu tarandığında çalışacak fonksiyonu çağır
        onQRCodeScanned();
    </script>
</body>
</html>
